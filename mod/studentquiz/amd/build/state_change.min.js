define(["jquery","core/ajax","core/notification"],function(a,b,c){var d={SELECTOR:{STATE_SELECT:"#menustatetype",CHANGE_STATE_BUTTON:"div.singlebutton button.btn-primary",STATE_VALUE_INPUT:"input[name=state]",SUBMIT_STATE_BUTTON:"#change_state"},init:function(){var e=a(d.SELECTOR.STATE_SELECT),f=a(d.SELECTOR.CHANGE_STATE_BUTTON),g=a(d.SELECTOR.STATE_VALUE_INPUT),h=a(d.SELECTOR.SUBMIT_STATE_BUTTON);e.on("change",function(){""!==e.val()?(g.val(e.val()),f.removeAttr("disabled")):f.attr("disabled","disabled")}),h.on("click",function(){var a,d={courseid:h.attr("data-courseid"),cmid:h.attr("data-cmid"),questionid:h.attr("data-questionid"),state:e.val()},f=b.call([{methodname:"mod_studentquiz_set_state",args:d}],!0,!0);f[0].then(function(a){c.alert(a.status,a.message)}).fail(a)})}};return d});